(window["webpackJsonpreact-test"]=window["webpackJsonpreact-test"]||[]).push([[0],{204:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(31),i=t.n(o),c=t(5),l=t.n(c),s=t(14),u=t(9),d=t(10),p=t(12),f=t(11),g=t(13),h=t(23),m=t(22),b=t(2),x=t(3);function v(){var e=Object(b.a)(["\n    background: \n    linear-gradient(90deg, rgba(255,255,255,1) 0%, rgba(255,255,255,1) 100%) padding-box,\n    linear-gradient(90deg, rgba(255,255,255,1) 18%, rgba(0,0,0,1) 100%) border-box;\n    color: #313149;\n    padding: 40px;\n    border: 5px solid transparent;\n    border-radius: 50%;\n    display:inline-block;\n    margin: 75px 0;\n    animation: .2s "," infinite;\n"]);return v=function(){return e},e}function w(){var e=Object(b.a)(["\n    100% {\n        transform: rotate(180deg);\n    }\n"]);return w=function(){return e},e}function E(){var e=Object(b.a)(["\n    padding: 10px 25px;\n    border-radius: 25px;\n    border: 3px solid white;\n    color: white;\n    cursor: pointer;\n    font-weight: 300;\n    background: black;\n    box-shadow: 0px 0px 2px 0px rgba(0,0,0,0.75);\n    font-size: 20px;\n    transition: .25s ease-in-out;\n    :hover {\n        color: black;\n        background: white;\n        border: 3px solid black;\n  \n    }\n"]);return E=function(){return e},e}function O(){var e=Object(b.a)(["\n    margin-bottom: 0;\n    font-weight: ",";\n    font-size: ",";\n    color: ",";\n    color: ",";\n"]);return O=function(){return e},e}function y(){var e=Object(b.a)(["\n    margin: 20px;\n    border-radius: 20px;\n    border: 1px solid black;\n    font-weight: 300;\n    padding: 10px;\n    font-size: 20px;\n"]);return y=function(){return e},e}function j(){var e=Object(b.a)(["\n    display: flex;\n    margin: 0 auto;\n    padding: 20px;\n    flex-direction: column;\n    max-width: 350px;\n    align-items: center;\n"]);return j=function(){return e},e}function S(){var e=Object(b.a)(["\n    display: flex;\n    flex-direction: column;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n    text-align: center;\n    align-items: space-around;\n"]);return S=function(){return e},e}function k(){var e=Object(b.a)(["\n    display: flex;\n    align-items: center;\n    box-sizing: border-box;\n    box-shadow: 0px 0px 8px 0px rgba(0,0,0,0.75);\n    color: black;\n    font-size: 25px;\n    font-weight: 300;\n    padding: 10px;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n    text-decoration: none;\n"]);return k=function(){return e},e}function T(){var e=Object(b.a)(["\n    border-radius: 8px;\n    padding: 5px;\n    font-size: 14px;\n    transition: .3s ease-in-out;\n    border: 2px solid black;\n    :hover {\n        background: black;\n        color: white;\n    }\n"]);return T=function(){return e},e}function I(){var e=Object(b.a)(["\n    display: flex;\n    @media screen and (max-width: 850px) {\n        max-width: 50vw;\n    }\n"]);return I=function(){return e},e}function C(){var e=Object(b.a)(["\n    cursor: pointer;\n    background: black;\n    margin-left: -10px;\n    border-bottom-right-radius: 10px;\n    color: white;\n    border-top-right-radius: 10px;\n    border: none;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n"]);return C=function(){return e},e}function N(){var e=Object(b.a)(["\n    display: flex;\n    font-size: 25px;\n    width: 10vw;\n    padding: 10px;\n    justify-content: flex-start;\n    @media screen and (max-width: 850px) {\n        align-self: flex-start;\n        font-size: calc(18px + (34 - 18) * ((100vw - 350px) / (850 - 350)));\n    }\n"]);return N=function(){return e},e}function z(){var e=Object(b.a)(["\n    width: inherit;\n    height: inherit;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return z=function(){return e},e}function H(){var e=Object(b.a)(["\n    height: 100px;\n    overflow: hidden;\n    display: flex;\n    color: black;\n    font-size: calc(11px + (14 - 11) * ((100vw - 1000px) / (1600 - 1000)));\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    animation: "," .5s forwards;\n"]);return H=function(){return e},e}function _(){var e=Object(b.a)(["\n    100% {\n        height: 0;\n    }\n"]);return _=function(){return e},e}function D(){var e=Object(b.a)(["\n    0% {\n        height: 0;\n        display: none;\n    }\n"]);return D=function(){return e},e}function A(){var e=Object(b.a)(["\n    display: grid;\n    grid-template-rows: 10vh auto;\n"]);return A=function(){return e},e}function P(){var e=Object(b.a)(["\n    cursor: pointer;\n    color: black;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    line-height: 20px;\n    margin: 0 auto;\n    font-size: 40px;\n    @media screen and (min-width: 1150px) {\n        ::before {\n            content: 'NEW NOTE';\n            padding: 5px;\n            font-size: calc(14px + (25 - 14) * ((100vw - 1000px) / (1600 - 1000)));\n            display: flex;\n        }\n        border-radius: 10px;\n        font-size: calc(20px + (20 - 20) * ((100vw - 1000px) / (1600 - 1000)));\n        border: 2px solid black;\n        padding: 5px;\n        transition: .2s ease-in-out;\n        :hover {\n            color: white;\n            background: black;\n        }\n    }\n    @media screen and (max-width: 850px) {\n        order: 3;\n        color: white;\n        display: flex;\n        border-radius: 50%;\n        box-shadow: 0px 4px 1px 0px rgba(0,0,0,1);\n        border: 1px solid black;\n        align-items: center;\n        justify-content: center;\n        color: black;\n        align-content: center;\n        font-size: 75px;\n        display: ",";\n    }\n"]);return P=function(){return e},e}function U(){var e=Object(b.a)(["\n    padding: 4px;\n    border: 1px solid black;\n    text-indent: 5px;\n    max-width: 10vw;\n    border-radius: 10px;\n    @media screen and (max-width: 850px) {\n        max-width: none;\n        width: 40vw;\n        font-size: calc(18px + (30 - 18) * ((100vw - 350px) / (850 - 350)));\n    }\n"]);return U=function(){return e},e}function L(){var e=Object(b.a)(["\n    display: flex;\n    max-width: 13vw;\n    align-items: center;\n"]);return L=function(){return e},e}function R(){var e=Object(b.a)(["\n    width: 50px;\n    box-sizing: border-box;\n    font-family: Arial, Helvetica, sans-serif;\n    height: 50px;\n    display: flex;\n    border: 2px solid black;\n    border-radius: 50%;\n    justify-content: center;\n    cursor: pointer;\n    font-size: 30px;\n    transition: .1s ease-in-out;\n    :hover {\n        color: ",";\n        border: 5px solid ",";\n    }\n    align-items: center;\n"]);return R=function(){return e},e}function F(){var e=Object(b.a)(["\n    width: 20px;\n    height: 20px;\n    font-size: 25px;\n    color: black;\n    transition: .2s ease-in-out;\n    margin-bottom: 10px;\n    align-self: flex-end;\n    :hover {\n        color: #ec644b;\n    }\n    @media screen and (max-width: 850px) {\n        display: none;\n    }\n"]);return F=function(){return e},e}function X(){var e=Object(b.a)(["\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    flex-direction: column;\n    box-sizing: border-box;\n    font-size: calc(12px + (18 - 12) * ((100vw - 1000px) / (1600 - 1000)));\n    padding-bottom: 4vh;\n    @media screen and (max-width: 850px) {\n        padding-bottom: 5vh;\n        font-size: calc(18px + (28 - 18) * ((100vw - 350px) / (850 - 350)));\n    }\n"]);return X=function(){return e},e}function V(){var e=Object(b.a)(["\n    width: ",";\n    height: ",";\n    border-radius: 50%;\n    background: ",";\n    max-width: 50px;\n    @media screen and (max-width: 850px) {\n        width: calc(50px + (70 - 50) * ((100vw - 350px) / (850 - 350)));\n        max-width: 100px;\n        height: calc(50px + (70 - 50) * ((100vw - 350px) / (850 - 350)));\n    }\n"]);return V=function(){return e},e}function W(){var e=Object(b.a)(["\n    padding: 20px;\n    padding-top: 4px;\n    height: 100px;\n    border-top: 3px solid white;\n    width: 15vw;  \n    cursor: pointer;\n    background: ",";\n    transition: .2s ease-in-out;\n    border-right: ",";\n    :hover {\n        background: rgba(0,0,0,.2);\n    }\n    @media screen and (max-width: 850px) {\n        width: 100vw;\n         animation: "," .5s forwards;\n    }\n"]);return W=function(){return e},e}function B(){var e=Object(b.a)(["\n    font-size: ",";\n    padding: 0;\n    max-height: 40px;\n    margin: 0;\n    @media screen and (max-width: 850px) {\n        font-size: ",";\n    } \n"]);return B=function(){return e},e}function M(){var e=Object(b.a)(["\n    grid-column: 85vw;\n    grid-row: 100vh;\n    display: grid;\n    overflow: hidden;\n    @media screen and (max-width: 850px) {\n        grid-template-rows: 65px auto;\n        animation: "," .5s forwards;\n    }\n"]);return M=function(){return e},e}function J(){var e=Object(b.a)(["\n    display: flex;\n    align-items: center;\n    margin: 4px;\n    border-radius: 10px;\n    height: 20;\n    margin: auto 5px;\n    padding: 10px;\n    color: royalblue;\n    justify-content: space-around;\n    width: 100px;\n    font-weight: 300;\n    font-size: 24px;\n    @media screen and (min-width: 850px) {\n        display: none;\n    }\n"]);return J=function(){return e},e}function q(){var e=Object(b.a)(["\n    grid-row: 100vh;\n    grid-column: 15vw;\n    overflow-y: auto;\n    height: 100vh;\n    border-right: 1px solid black;\n    @media screen and (max-width: 850px) {\n        grid-column: ",";\n        display: flex;\n        border-right: none;\n    }\n"]);return q=function(){return e},e}function G(){var e=Object(b.a)(["\n    display: grid;\n    grid-template-rows: 100vh;\n    height: 100vh;\n    overflow: hidden;\n    grid-template-columns: 15vw auto;  \n    @media screen and (max-width: 850px) {\n    grid-template-columns: ",";\n    }\n\n"]);return G=function(){return e},e}function Y(){var e=Object(b.a)(["\n    0% {\n        align-self: flex-start;\n    }\n    100% {\n        width: 0;\n        align-self: flex-start;\n    }\n"]);return Y=function(){return e},e}function $(){var e=Object(b.a)(["\n    display: flex;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n    box-sizing: border-box;\n    flex-direction: ",";\n    @media screen and (max-width: 850px) {\n        width: ",";\n        order: ",";\n        height: ",";\n        border-top: ",";\n        justify-content: ",";\n        align-items: ",";\n    }\n"]);return $=function(){return e},e}function K(){var e=Object(b.a)(["\n    font-size: calc(14px + (12 - 14) * ((100vw - 350px) / (1600 - 350)));\n"]);return K=function(){return e},e}var Q=x.a.h4(K()),Z=x.a.div($(),(function(e){return e.direction}),(function(e){return e.mobileWidth}),(function(e){return e.order}),(function(e){return e.mobileHeight}),(function(e){return e.border||""}),(function(e){return e.centered?"center":""}),(function(e){return e.centered?"center":""})),ee=Object(x.b)(Y()),ne=x.a.div(G(),(function(e){return e.view?"0 100vw":"100vw 0"})),te=Object(x.a)(Z)(q(),(function(e){return e.view?0:"100vw"})),ae=x.a.div(J()),re=Object(x.a)(Z)(M(),ee),oe=x.a.h1(B(),(function(e){return e.size+"px"}),(function(e){return 1.5*e.size+"px"})),ie=Object(x.a)(Z)(W(),(function(e){return e.active?"rgba(0,0,0,.15)":"#F5F5F5"}),(function(e){return e.active?"4px solid black":"4px solid rgba(0,0,0,.1)"}),(function(e){return e.mobileSwipe&&ee})),ce=x.a.div(V(),(function(e){return e.size?e.size:"50px"}),(function(e){return e.size?e.size:"50px"}),(function(e){return e.bg?e.bg:"#333"})),le=Object(x.a)(Z)(X()),se=x.a.div(F()),ue=(x.a.div(R(),(function(e){return e.active?"#8FB9A8":"#F1828D"}),(function(e){return e.active?"#8FB9A8":"#F1828D"})),x.a.form(L()),x.a.input(U())),de=x.a.div(P(),(function(e){return e.hidden?"none":"block"})),pe=x.a.div(A()),fe=Object(x.b)(D()),ge=Object(x.b)(_()),he=x.a.div(H(),(function(e){return e.open?fe:ge})),me=x.a.div(z()),be=x.a.div(N()),xe=x.a.button(C()),ve=x.a.div(I()),we=x.a.div(T()),Ee=x.a.div(k()),Oe=x.a.div(S()),ye=x.a.form(j()),je=x.a.input(y()),Se=x.a.h1(O(),(function(e){return e.secondary?400:300}),(function(e){return e.secondary?"24px":"34px"}),(function(e){return e.secondary?"rgba(0,0,0,.7)":"black"}),(function(e){return e.error&&"red"})),ke=x.a.input(E()),Te=Object(x.b)(w()),Ie=x.a.div(v(),Te),Ce=function(e){function n(){var e,t;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(f.a)(n)).call.apply(e,[this].concat(r)))).state={loggedIn:!1,login:"",loading:!1,passwd:"",wrongInfo:!1},t.handleLoginChange=function(e){t.setState({login:e.target.value})},t.handlePwdChange=function(e){t.setState({passwd:e.target.value})},t.handleLogin=function(){var e=Object(s.a)(l.a.mark((function e(n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),t.setState({loading:!0}),e.next=4,fetch("http://127.0.0.1:5000/api/profile/",{headers:new Headers({"Content-type":"application/x-www-form-urlencoded"}),body:"login=".concat(t.state.login,"&pass=").concat(t.state.passwd),method:"POST",mode:"cors"});case 4:return a=e.sent,e.next=7,a.text().then((function(e){var n=JSON.parse(e);null===n.token?t.setState({wrongInfo:!0}):(localStorage.setItem("loginToken",n.token),localStorage.setItem("login",n.login),t.setState({loggedIn:!0}))}));case 7:t.setState({loading:!1});case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),t}return Object(g.a)(n,e),Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,localStorage.getItem("login")?r.a.createElement(h.a,{to:{pathname:"/profile/".concat(localStorage.getItem("loginToken")),loggedIn:!0}}):r.a.createElement("div",null,this.state.loading?r.a.createElement(Ie,null):r.a.createElement("div",{className:"login-wrapper"},r.a.createElement(Se,null,"Sign In"),r.a.createElement(Se,{secondary:!0},"Enter your login and password to sign in"),this.state.wrongInfo?r.a.createElement(Se,{error:!0,secondary:!0},"Incorrect login or password"):"",r.a.createElement(ye,{onSubmit:this.handleLogin},r.a.createElement(je,{onChange:this.handleLoginChange,type:"text",placeholder:"Login",value:this.state.login}),r.a.createElement(je,{onChange:this.handlePwdChange,type:"password",placeholder:"Password",value:this.state.passwd}),r.a.createElement(ke,{type:"submit",value:"Sign In"})),r.a.createElement(m.b,{to:"/register"},"Sign Up"))))}}]),n}(r.a.Component),Ne=function(e){function n(){var e,t;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(f.a)(n)).call.apply(e,[this].concat(r)))).state={login:"",pass:"",regDone:!1,loading:!1},t.handleLoginChange=function(e){t.setState({login:e.target.value})},t.handlePwdChange=function(e){t.setState({pass:e.target.value})},t.doReg=Object(s.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://127.0.0.1:5000/api/reg/".concat(t.state.login),{headers:new Headers({"Content-type":"application/x-www-form-urlencoded"}),body:"login=".concat(t.state.login,"&pass=").concat(t.state.pass),method:"POST",mode:"cors"});case 2:return n=e.sent,e.next=5,n.text().then((function(e){1==JSON.parse(e).userExists&&t.setState({userExists:!0,loading:!1})}));case 5:case"end":return e.stop()}}),e)}))),t.handleReg=function(){var e=Object(s.a)(l.a.mark((function e(n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({userExists:!1,loading:!0}),n.preventDefault(),e.next=4,t.doReg();case 4:if(t.state.userExists){e.next=10;break}return e.next=7,fetch("http://127.0.0.1:5000/api/profile/",{headers:new Headers({"Content-type":"application/x-www-form-urlencoded"}),body:"login=".concat(t.state.login,"&pass=").concat(t.state.pass),method:"POST",mode:"cors"});case 7:return a=e.sent,e.next=10,a.text().then((function(e){e=JSON.parse(e),r=e.token,localStorage.setItem("loginToken",r),localStorage.setItem("loggedIn","true"),t.setState({regDone:!0,loading:!1})}));case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),t}return Object(g.a)(n,e),Object(d.a)(n,[{key:"componentDidMount",value:function(){this.setState({loading:!1})}},{key:"render",value:function(){return r.a.createElement("div",null,localStorage.getItem("loginToken")?r.a.createElement(h.a,{to:"/profile/".concat(localStorage.getItem("loginToken"))}):r.a.createElement("div",null,this.state.loading?r.a.createElement(Ie,null):r.a.createElement("div",{className:"login-wrapper reg"},r.a.createElement(Se,null,"Sign Up"),r.a.createElement(Se,{secondary:!0},"Enter login and and password for your new account"),this.state.userExists&&r.a.createElement(Se,{error:!0,secondary:!0},"Chosen username is already taken"),r.a.createElement(ye,{onSubmit:this.handleReg},r.a.createElement(je,{onChange:this.handleLoginChange,type:"text",value:this.state.login,placeholder:"Login"}),r.a.createElement(je,{onChange:this.handlePwdChange,type:"password",value:this.state.pass,placeholder:"Password"}),r.a.createElement(ke,{type:"submit",value:"Sign Up"})),r.a.createElement(m.b,{to:"/"},"Sign In"))))}}]),n}(r.a.Component),ze=t(27),He=t(43);var _e=Object(He.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{notes:[],active:{id:null,text:null,title:null}},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_NOTE":var t=n.note,a=[n.note].concat(Object(ze.a)(e.notes)).map((function(e){return e.id+=1,e}));return t.id=0,t.text="",Object.assign({},e,{notes:a},{active:t});case"SET_NOTES":if(delete n.type,console.log(n,e),0===n.notes.length)return e;var r=n.notes[n.active];return r.id=0,Object.assign({},e,n,{active:r});case"SELECT_NOTE":delete n.type,console.log(n.active);var o=e.notes[n.active];return o.id=n.active,Object.assign({},e,n,{active:o});case"EDITOR_UPDATE":delete n.type;var i={active:e.active};return i.active.text=n.activeText,Object.assign({},e,i);case"DELETE_NOTE":var c={notes:[].concat(Object(ze.a)(e.notes.slice(0,n.id)),Object(ze.a)(e.notes.slice(n.id+1,e.notes.length))).map((function(e){return e.id>n.id?(e.id-=1,e):e}))};if(0===c.notes.length)return Object.assign({},e,c,{active:{id:null,text:null,title:null}});if(n.id===e.active.id){var l=0===n.id?n.id:n.id-1,s=c.notes[l];return s.id=l,Object.assign({},e,c,{active:s})}return Object.assign({},e,c);case"SWITCH_VIEW":return Object.assign({},e,{editor:n.editor});default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),De=t(6),Ae=t(19),Pe=t(20);function Ue(e){return(e=e.replace(/<\/?[^>]+(>|$)/g," ")).length>20?"".concat(e.slice(0,20),"..."):e}var Le=function(e){function n(e){var t;return Object(u.a)(this,n),(t=Object(p.a)(this,Object(f.a)(n).call(this,e))).state={animate:!0,swipe:!1,swipeX:null,fullSwipe:!1},t.handleSwipe=function(e){e.changedTouches[0].clientX<t.state.swipeX-100&&(t.setState({swipe:!1,swipeX:null,fullSwipe:!0}),setTimeout((function(){t.props.deleteNote(t.props.id,t.props.noteId)}),300))},t.state.textPreview=Ue(t.props.text),t}return Object(g.a)(n,e),Object(d.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(he,{onTouchStart:function(n){e.setState({swipe:!0,swipeX:n.touches[0].clientX})},onTouchMove:this.handleSwipe,onTouchEnd:function(){return e.setState({swipe:!1,swipeX:null})},style:{minHeight:"100px"},open:this.state.animate},r.a.createElement(ie,{onClick:function(){e.props.switchActive(e.props.id,e.props.noteId,e.props.activeText)},active:this.props.active,bg:"rgba(197,200,200,0.1)",direction:"column",mobileSwipe:this.state.fullSwipe},r.a.createElement(se,null,r.a.createElement(Ae.a,{icon:Pe.e,onClick:function(n){n.stopPropagation(),e.setState({animate:!1}),setTimeout((function(){return e.props.deleteNote(e.props.id,e.props.noteId)}),300)}})),r.a.createElement(oe,{style:{opacity:".8"},size:20},this.props.title),r.a.createElement(oe,{style:{opacity:".6"},size:10},Ue(this.props.notes[this.props.id].text))))}}]),n}(r.a.Component),Re=Object(De.b)((function(e){return{noteId:e.active.noteId,notes:e.notes,activeText:e.active.text}}),(function(e){return{switchActive:function(){var n=Object(s.a)(l.a.mark((function n(t,a,r){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("http://127.0.0.1:5000/api/note/".concat(localStorage.getItem("loginToken"),"/").concat(a),{headers:new Headers({"Content-type":"application/x-www-form-urlencoded"}),method:"POST",body:"text=".concat(r),mode:"cors"});case 2:e({active:t,type:"SELECT_NOTE"}),e({type:"SWITCH_VIEW",editor:!0});case 4:case"end":return n.stop()}}),n)})));return function(e,t,a){return n.apply(this,arguments)}}(),deleteNote:function(){var n=Object(s.a)(l.a.mark((function n(t,a){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("http://127.0.0.1:5000/api/note/".concat(localStorage.getItem("loginToken"),"/").concat(a),{method:"DELETE",mode:"cors"});case 2:e({type:"DELETE_NOTE",id:t});case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}}))(Le);var Fe=Object(De.b)((function(e){return{notes:e.notes}}),(function(e){return{}}))((function(e){return r.a.createElement(Z,{style:{marginTop:"20px",overflow:"auto"},mobileHeight:"55vh",mobileWidth:"100vw",direction:"column"},0===e.notes.length?r.a.createElement("h1",{style:{textAlign:"center"}},"You don't have any notes"):e.notes.map((function(n,t){return r.a.createElement(Re,Object.assign({id:t,active:t==e.active},n,{key:n.noteId}))})))})),Xe=function(e){function n(e){var t;return Object(u.a)(this,n),(t=Object(p.a)(this,Object(f.a)(n).call(this,e))).state={hidden:!0,noteTitle:"",noTitle:!1,mobileHidden:!1},t.handleNoteAadd=function(){""==t.state.noteTitle?t.setState({noTitle:!0}):(t.props.addNewNote(t.state.noteTitle),t.setState({hidden:!t.state.hidden,noteTitle:"",noTitle:!1}),setTimeout((function(){return t.setState({mobileHidden:!1})}),500))},t}return Object(g.a)(n,e),Object(d.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(Z,{bg:"rgba(0,0,0,.2)",centered:!0,mobileHeight:"30vw",order:0,direction:"column"},r.a.createElement(he,{open:!this.state.mobileHidden},r.a.createElement(de,{hidden:this.state.mobileHidden,onClick:function(){e.setState({hidden:!e.state.hidden,noTitle:!e.state.noTitle&&null,mobileHidden:!0})}},r.a.createElement(Ae.a,{style:{borderRadius:"50%"},icon:Pe.c}))),r.a.createElement(he,{open:!this.state.hidden},r.a.createElement(ve,null,r.a.createElement(ue,{placeholder:"Note title",value:this.state.noteTitle,onChange:function(n){return e.setState({noteTitle:n.target.value})}}),r.a.createElement(xe,{onClick:this.handleNoteAadd},r.a.createElement(Ae.a,{icon:Pe.a}))),this.state.noTitle&&r.a.createElement(he,{style:{height:35},open:this.state.noTitle},r.a.createElement(Q,{style:{lineHeight:0,margin:0,padding:0,color:"#ec644b"}},"* you must specify a title"))))}}]),n}(r.a.Component),Ve=Object(De.b)(null,(function(e){return{addNewNote:function(){var n=Object(s.a)(l.a.mark((function n(t){var a;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("http://127.0.0.1:5000/api/note/".concat(localStorage.getItem("loginToken")),{headers:new Headers({"Content-type":"application/x-www-form-urlencoded"}),method:"PUT",body:"title=".concat(t,"&text="),mode:"cors"}).then((function(e){return e.json()})).then((function(e){return a=e.noteId}));case 2:e({type:"ADD_NOTE",note:{title:t,text:"",noteId:a}});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(Xe);var We=Object(De.b)((function(e){return{active:e.active.id,editor:e.editor}}))((function(e){return r.a.createElement("div",null,r.a.createElement(te,{display:e.editor,direction:"column"},r.a.createElement(le,{direction:"column"},r.a.createElement(be,null,r.a.createElement(we,null,r.a.createElement(Ae.a,{style:{cursor:"pointer"},icon:Pe.d,onClick:e.logout}))),r.a.createElement(ce,{size:"3vw"}),r.a.createElement("h3",{style:{margin:0}},e.login)),r.a.createElement(Ve,null),r.a.createElement(Fe,{active:e.active,notes:Object(ze.a)(e.notesArr)})))})),Be=t(84),Me=t.n(Be);t(203);var Je=Object(De.b)((function(e){return console.log(e),{value:e.active.text||"",initValue:null===e.active.id?"":e.active.text,active:e.active.id,editor:e.editor,activeNote:e.active}}),(function(e){return{changeValue:function(n,t){fetch("http://127.0.0.1:5000/api/note/".concat(localStorage.getItem("loginToken"),"/").concat(t.noteId),{headers:new Headers({"Content-type":"application/x-www-form-urlencoded"}),method:"POST",body:"text=".concat(n),mode:"cors"}),e({activeText:n,type:"EDITOR_UPDATE"})},switchView:function(){e({type:"SWITCH_VIEW",editor:!1})}}}))((function(e){return r.a.createElement(re,{view:e.editor,className:"quill"},r.a.createElement(ae,{onClick:e.switchView},r.a.createElement(Ae.a,{icon:Pe.b}),"NOTES"),null===e.active?r.a.createElement(me,null,r.a.createElement("h2",null,"Select a note or add a new one")):r.a.createElement(Me.a,{modules:{toolbar:[[{header:[1,2,3,4,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]]},formats:["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"],theme:"snow",style:{width:"inherit"},bounds:".quill",value:e.value,onChange:function(n){return e.changeValue(n,e.activeNote)}}))})),qe=function(e){function n(){var e,t;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(f.a)(n)).call.apply(e,[this].concat(r)))).state={loading:!0,notes:[],logged:void 0},t.logout=function(){localStorage.clear(),t.setState({logged:!1})},t.componentDidMount=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://127.0.0.1:5000/api/profile/".concat(localStorage.getItem("loginToken")),{headers:new Headers({"Content-type":"application/x-www-form-urlencoded"}),method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){if(!0===e.wrongInfo)return localStorage.clear(),void t.setState({logged:!1});t.props.setInitialNotes(e.notes),t.setState({login:e.login})}));case 2:t.setState({loading:!1});case 3:case"end":return e.stop()}}),e)}))),t}return Object(g.a)(n,e),Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,!1===this.state.logged?r.a.createElement(h.a,{to:"/"}):"",r.a.createElement(De.a,{store:_e},r.a.createElement(ne,{view:this.props.editor,direction:"row"},r.a.createElement(We,{logout:this.logout,notesArr:this.props.notes,login:this.state.login}),r.a.createElement(Je,null))))}}]),n}(r.a.Component),Ge=Object(De.b)((function(e){return{notes:e.notes,editor:e.editor}}),(function(e){return{setInitialNotes:function(n){e({type:"SET_NOTES",active:0!=n.length?0:null,notes:n})}}}))(qe),Ye=function(e){function n(e){return Object(u.a)(this,n),Object(p.a)(this,Object(f.a)(n).call(this,e))}return Object(g.a)(n,e),Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement(De.a,{store:_e},r.a.createElement(Ge,null))}}]),n}(r.a.Component);var $e=function(){return r.a.createElement("div",{className:"main-wrapper"},r.a.createElement(m.a,null,r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/profile/:token",component:Ye}),r.a.createElement(h.b,{path:"/",render:function(){return r.a.createElement(pe,null,r.a.createElement(Ee,null,r.a.createElement(m.b,{to:"/",style:{color:"black",textDecoration:"none"}},"NOTER")),r.a.createElement(Oe,null,r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/",exact:!0,component:Ce}),r.a.createElement(h.b,{path:"/register",exact:!0,component:Ne}),r.a.createElement(h.b,{path:"*",render:function(){return r.a.createElement("h1",{className:"no-page"},"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430")}}))))}}))))};i.a.render(r.a.createElement($e,null),document.getElementById("root"))},87:function(e,n,t){e.exports=t(204)}},[[87,1,2]]]);
//# sourceMappingURL=main.7cbc74a4.chunk.js.map